-- --------------------------------------------------------
-- Host:                         localhost
-- Versión del servidor:         10.4.14-MariaDB - mariadb.org binary distribution
-- SO del servidor:              Win64
-- HeidiSQL Versión:             11.1.0.6116
-- --------------------------------------------------------

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET NAMES utf8 */;
/*!50503 SET NAMES utf8mb4 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;


-- Volcando estructura de base de datos para chartjs
CREATE DATABASE IF NOT EXISTS `chartjs` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `chartjs`;

-- Volcando estructura para tabla chartjs.tbldatos
CREATE TABLE IF NOT EXISTS `tbldatos` (
  `idtbldatos` int(11) NOT NULL AUTO_INCREMENT,
  `fechaCrea` timestamp NOT NULL DEFAULT current_timestamp(),
  `ipUsuario` varchar(45) NOT NULL,
  `Requerimiento` int(11) NOT NULL,
  `nit` int(15) NOT NULL,
  `nombre` varchar(100) NOT NULL,
  `correo` varchar(100) NOT NULL,
  `tokenCrea` text NOT NULL,
  `tokenCorreo` text NOT NULL,
  `gestionado` int(11) DEFAULT NULL,
  PRIMARY KEY (`idtbldatos`),
  KEY `Cedulas` (`nit`) USING BTREE
) ENGINE=InnoDB AUTO_INCREMENT=102 DEFAULT CHARSET=utf8;

-- Volcando datos para la tabla chartjs.tbldatos: ~68 rows (aproximadamente)
DELETE FROM `tbldatos`;
/*!40000 ALTER TABLE `tbldatos` DISABLE KEYS */;
INSERT INTO `tbldatos` (`idtbldatos`, `fechaCrea`, `ipUsuario`, `Requerimiento`, `nit`, `nombre`, `correo`, `tokenCrea`, `tokenCorreo`, `gestionado`) VALUES
	(1, '2021-01-01 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(30, '2021-01-01 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(31, '2021-01-01 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(32, '2021-01-01 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(33, '2021-01-01 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(34, '2021-01-01 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(35, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(36, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(37, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(38, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(39, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(40, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(41, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(42, '2021-01-02 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(43, '2021-01-03 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(44, '2021-01-03 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(45, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(46, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(47, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(48, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(49, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(50, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(51, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(52, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(53, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(54, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(55, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(56, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(57, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(58, '2021-01-04 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(59, '2021-01-05 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(60, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(61, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(62, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(63, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(64, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(65, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(66, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(67, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(68, '2021-01-06 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(69, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(70, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(71, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(72, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(73, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(74, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(75, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(76, '2021-01-07 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(77, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(78, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(79, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(80, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(81, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(82, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(83, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(84, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(85, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(86, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(87, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(88, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(89, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(90, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(91, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(92, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(93, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(94, '2021-01-08 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(95, '2021-01-09 14:26:13', '192.168.208.34', 1000, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(96, '2021-01-06 16:01:51', '192.168.208.34', 1001, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(97, '2021-01-30 06:01:51', '192.168.208.34', 1001, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(98, '2021-01-30 06:01:51', '192.168.208.34', 1001, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(99, '2021-01-30 06:01:51', '192.168.208.34', 1001, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(100, '2021-01-30 06:01:51', '192.168.208.34', 1001, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL),
	(101, '2021-01-30 06:01:51', '192.168.208.34', 1001, 9999999, 'JUAN ROMERO', 'segurihack86@gmail.com', '283f42764da6dba2522412916b031080', 'AAAA-1234', NULL);
/*!40000 ALTER TABLE `tbldatos` ENABLE KEYS */;

-- Volcando estructura para vista chartjs.vistadatoschart
-- Creando tabla temporal para superar errores de dependencia de VIEW
CREATE TABLE `vistadatoschart` (
	`chats` BIGINT(21) NOT NULL,
	`dia` INT(2) NULL,
	`Mes` VARCHAR(9) NULL COLLATE 'utf8mb4_general_ci'
) ENGINE=MyISAM;

-- Volcando estructura para vista chartjs.vistadatoschart
-- Eliminando tabla temporal y crear estructura final de VIEW
DROP TABLE IF EXISTS `vistadatoschart`;
CREATE ALGORITHM=UNDEFINED SQL SECURITY DEFINER VIEW `vistadatoschart` AS SELECT COUNT(*) as chats,DAY(fechaCrea) as dia,UPPER(MONTHNAME(curdate())) as Mes FROM tbldatos where MONTH(fechaCrea) = MONTH(curdate()) group by DAY(fechaCrea) ;

/*!40101 SET SQL_MODE=IFNULL(@OLD_SQL_MODE, '') */;
/*!40014 SET FOREIGN_KEY_CHECKS=IF(@OLD_FOREIGN_KEY_CHECKS IS NULL, 1, @OLD_FOREIGN_KEY_CHECKS) */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
